(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{125:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3cd8Y"}},126:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},14:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",active:"Navbar_active__3mbhk"}},156:function(e,t,n){},157:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var s=n(0),r=(n(156),n(24)),a=n(25),i=n(27),c=n(26),o=n(1),u=n.n(o),l=(n(157),n(14)),j=n.n(l),d=n(12);var b=function(){return Object(s.jsxs)("nav",{className:j.a.nav,children:[Object(s.jsx)("div",{className:"".concat(j.a.item," ").concat(j.a.active),children:Object(s.jsx)(d.b,{to:"/profile",activeClassName:j.a.active,children:"Profile"})}),Object(s.jsx)("div",{className:j.a.item,children:Object(s.jsx)(d.b,{to:"/dialogs",activeClassName:j.a.active,children:"Messages"})}),Object(s.jsx)("div",{className:j.a.item,children:Object(s.jsx)(d.b,{to:"/news",activeClassName:j.a.active,children:"News"})}),Object(s.jsx)("div",{className:j.a.item,children:Object(s.jsx)(d.b,{to:"/music",activeClassName:j.a.active,children:"Music"})}),Object(s.jsx)("div",{className:j.a.item,children:Object(s.jsx)(d.b,{to:"/settings",activeClassName:j.a.active,children:"Settings"})}),Object(s.jsx)("div",{className:j.a.item,children:Object(s.jsx)(d.b,{to:"/users",activeClassName:j.a.active,children:"Users"})})]})},p=n(11),h=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:"News about cars"}),Object(s.jsx)("li",{children:"News about gadjets"}),Object(s.jsx)("li",{children:"News about animals"}),Object(s.jsx)("li",{children:"News about celebrities"}),Object(s.jsx)("li",{children:"News about holidays"})]})})},O=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("li",{children:"Hot playlist"}),Object(s.jsx)("li",{children:"Top charts"}),Object(s.jsx)("li",{children:"Summer"}),Object(s.jsx)("li",{children:"For fitness"}),Object(s.jsx)("li",{children:"For study"})]})},f=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"Settings"})})},g=n(33),m=n(5),v="ADD_NEW_MESSAGE",x={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrew"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your it kamasutra?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=t.message;return Object(m.a)(Object(m.a)({},e),{},{messages:[].concat(Object(g.a)(e.messages),[{id:6,message:n}])});default:return e}},A=n(34),P=n.n(A),w=function(e){var t="/dialogs/1"+e.id;return Object(s.jsx)("div",{className:P.a.dialog+" "+P.a.active,children:Object(s.jsx)(d.b,{to:t,activeClassName:P.a.active,children:e.name})})},S=n(119),N=n(120),y=function(e){if(!e)return"Filed is required"},C=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e)}},I=n(53),U=n(50),_=n.n(U),k=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,i=n&&r;return Object(s.jsxs)("div",{className:_.a.formControl+" "+(i?_.a.error:""),children:[Object(s.jsx)("div",{children:a}),i&&Object(s.jsx)("span",{children:r})]})},B=function(e){var t=e.input,n=(e.meta,Object(I.a)(e,["input","meta"]));return Object(s.jsx)(k,Object(m.a)(Object(m.a)({},e),{},{children:Object(s.jsx)("textarea",Object(m.a)(Object(m.a)({},t),n))}))},M=function(e){var t=e.input,n=(e.meta,Object(I.a)(e,["input","meta"]));return Object(s.jsx)(k,Object(m.a)(Object(m.a)({},e),{},{children:Object(s.jsx)("input",Object(m.a)(Object(m.a)(Object(m.a)({},t),e),n))}))},D=C(100),z=Object(N.a)({form:"dialogAddMessageForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)(S.a,{component:B,name:"newMessageBody",placeholder:"Enter your message",validate:[y,D]}),Object(s.jsx)("button",{children:"add"})]})})),T=function(e){var t=e.state.dialogs.map((function(e,t){return Object(s.jsx)(w,{name:e.name,id:e.id},t)})),n=e.state.messages.map((function(e,t){return Object(s.jsxs)("div",{children:[e.message," "]})}));if(!1===e.isAuth)return Object(s.jsx)(p.a,{to:"/login"});return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:P.a.dialogs,children:[Object(s.jsx)("div",{className:P.a.dialogsItems,children:t}),Object(s.jsx)("div",{className:P.a.messages,children:n})]}),Object(s.jsx)(z,{onSubmit:function(t){e.addMessage(t.newMessageBody)}})]})},Q=n(10),Z=function(e){return{isAuth:e.auth.isAuth}};function F(e){return Object(Q.b)(Z)((function(t){var n=t.isAuth,r=Object(I.a)(t,["isAuth"]);return n?Object(s.jsx)(e,Object(m.a)({},r)):Object(s.jsx)(p.a,{to:"/login"})}))}var L=n(8),V=Object(L.d)(Object(Q.b)((function(e){return{state:e.messagesPage,isAuth:e.auth.isAuth}}),(function(e){return{addMessage:function(t){e(function(e){return{type:v,message:e}}(t))}}})),F)(T),W=n(124),R=n.n(W).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"8c49b133-928a-4a57-b997-bbf0ea6abb17"}}),G=function(e,t){return R.get("/users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},H=function(e){return R.post("/follow/".concat(e))},Y=function(e){return R.delete("/follow/".concat(e))},K=function(e){return R.get("/profile/".concat(e))},J=function(e){return R.get("/profile/status/".concat(e))},X=function(e){return R.put("/profile/status",{status:e})},q=function(e){return console.warn("Obsolete method.Please use profileApi object"),K(e)},$=function(){return R.get("/auth/me")},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return R.post("auth/login",{email:e,password:t,rememberMe:n})},te=function(){return R.delete("auth/login")},ne="FOLLOW",se="UNFOLLOW",re="SET_USERS",ae="SET_CURRENT_PAGE",ie="SET_TOTAL_USER_COUNT",ce="TOGGLE_IS_FETCHING",oe="TOGGLE_IS_FOLLOWING_PROGRESS",ue={users:[],pageSize:10,totalUserCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},le=function(e){return{type:ce,isFetching:e}},je=function(e,t){return{type:oe,isFetching:e,id:t}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(m.a)(Object(m.a)({},e),{},{followed:!0}):e}))});case se:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(m.a)(Object(m.a)({},e),{},{followed:!1}):e}))});case re:return Object(m.a)(Object(m.a)({},e),{},{users:Object(g.a)(t.users)});case ae:return Object(m.a)(Object(m.a)({},e),{},{currentPage:t.currentPage});case ie:return Object(m.a)(Object(m.a)({},e),{},{totalUserCount:t.totalCount});case ce:return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching});case oe:return Object(m.a)(Object(m.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(g.a)(e.followingInProgress),[t.id]):Object(g.a)(e.followingInProgress.filter((function(e){return e!==t.id})))})}return e},be=n.p+"static/media/pngtree-user-vector-avatar-png-image_1541962.60b92e78.jpeg",pe=n(88),he=n.n(pe);function Oe(e){for(var t=Math.ceil(e.totalUserCount/e.pageSize),n=[],r=1;r<=t;r++)n.push(r);return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:n.map((function(t,n){return Object(s.jsxs)("span",{className:e.currentPage===t?he.a.selectedPage:"",onClick:function(n){return e.onPageChanged(t)},children:[t,"/"]},n)}))}),e.users.map((function(t){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(d.b,{to:"/profile/".concat(t.id),children:Object(s.jsx)("img",{src:null!==t.photos.small?t.photos.small:be,className:he.a.userPhoto,alt:"img"})})}),Object(s.jsx)("div",{children:t.followed?Object(s.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(s.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(s.jsx)("span",{children:Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:t.name}),Object(s.jsx)("div",{children:t.status?t.status:" No status"})]})})]},t.id)}))]})}var fe=n(292);function ge(){return Object(s.jsx)("div",{children:Object(s.jsx)(fe.a,{color:"primary"})})}var me=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(ge,{}):null,Object(s.jsx)(Oe,{totalUserCount:this.props.totalUserCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(u.a.Component),ve=Object(L.d)(Object(Q.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUserCount:e.usersPage.totalUserCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{setCurrentPage:function(e){return{type:ae,currentPage:e}},getUsers:function(e,t){return function(n){n(le(!0)),G(e,t).then((function(e){var t,s;n(le(!1)),n((t=e.items,{type:re,users:t})),n((s=e.totalCount,{type:ie,totalCount:s}))}))}},follow:function(e){return function(t){t(je(!0,e)),H(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:ne,userId:e}}(e)),t(je(!1,e))}))}},unfollow:function(e){return function(t){t(je(!0,e)),Y(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:se,userId:e}}(e)),t(je(!1,e))}))}}}),F)(me),xe={posts:[{id:1,message:"Its a first post",likesCount:3},{id:2,message:"Its a second post",likesCount:3},{id:3,message:"Its a third post",likesCount:3},{id:4,message:"Its a fourth post",likesCount:3},{id:5,message:"Its a fifth post",likesCount:3}],newText:"",profile:null,status:""},Ee=function(e){return{type:"SET_USER_PROFILE",profile:e}},Ae=function(e){return{type:"SET-STATUS",status:e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n=t.postMessage.trim();if(n){var s={id:5,message:t.postMessage,likesCount:0};return Object(m.a)(Object(m.a)({},e),{},{posts:[].concat(Object(g.a)(e.posts),[s]),newText:""})}return e;case"CHANGE-TEXT":return e.newText=t.text,Object(m.a)({},e);case"SET_USER_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{profile:t.profile});case"SET-STATUS":return Object(m.a)(Object(m.a)({},e),{},{status:t.status});default:return Object(m.a)({},e)}},we=n(125),Se=n.n(we),Ne=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deactivateEditMode=function(){e.setState({editMode:!1}),e.props.updateStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[!this.state.editMode&&Object(s.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"-------"}),this.state.editMode&&Object(s.jsx)("input",{autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status,type:"text",onChange:this.onStatusChange})]})}}]),n}(o.Component);var ye=function(e){return e.profile?Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:Se.a.descriptionBlock,children:[Object(s.jsx)("img",{src:e.profile.photos.large,alt:""}),Object(s.jsx)(Ne,{status:e.status,updateStatus:e.updateStatus})]})}):Object(s.jsx)(ge,{})},Ce=n(64),Ie=n.n(Ce),Ue=n(126),_e=n.n(Ue);var ke=function(e){return Object(s.jsxs)("div",{className:_e.a.item,children:[Object(s.jsx)("img",{src:"https://avatars.mds.yandex.net/get-kino-vod-films-gallery/28788/47e2fd514411e18b76af786d7417062d/280x178_2",alt:""}),e.message,Object(s.jsx)("div",{children:Object(s.jsxs)("span",{children:[" ",e.likeCounter," like(s)"]})})]})},Be=C(100);var Me=Object(N.a)({form:"profileAddPostForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(S.a,{name:"newPostBody",component:B,placeholder:"Enter your post text",validate:[y,Be]})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Add post"})})]})})),De=function(e){var t=e.posts.map((function(e,t){return Object(s.jsx)(ke,{message:e.message,likeCounter:e.likesCount},t)}));return Object(s.jsxs)("div",{className:Ie.a.postsBlock,children:[Object(s.jsx)("div",{children:Object(s.jsx)("h3",{children:"My posts"})}),Object(s.jsx)(Me,{onSubmit:function(t){t&&e.addPost(t.newPostBody)}}),Object(s.jsx)("div",{className:"s.posts",children:t})]})},ze=Object(Q.b)((function(e){return{posts:e.profilePage.posts,value:e.profilePage.newText}}),(function(e){return{addPost:function(t){t&&e(function(e){return{type:"ADD-POST",postMessage:e}}(t))}}}))(De);var Te=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(ye,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(s.jsx)(ze,{})]})},Qe=n(39),Ze="SET_USER_DATA",Fe={userId:null,email:null,login:null,isAuth:!1},Le=function(e,t,n,s){return{type:Ze,data:{userId:e,email:t,login:n,isAuth:s}}},Ve=function(){return function(e){return $().then((function(t){if(0===t.data.resultCode){var n=t.data.data,s=n.id,r=n.login,a=n.email;e(Le(s,a,r,!0))}}))}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},Re=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(s.jsx)(Te,{status:this.props.status,updateStatus:this.props.updateStatus,profile:this.props.profile})}}]),n}(u.a.Component),Ge=(Object(p.f)(Re),Object(L.d)(Object(Q.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:Ee,getUserProfile:function(e){return function(t){q(e).then((function(e){t(Ee(e.data))}))}},getStatus:function(e){return function(t){J(e).then((function(e){t(Ae(e.data))}))}},updateStatus:function(e){return function(t){X(e).then((function(n){0===n.data.resultCode&&t(Ae(e))}))}}}),p.f)(Re)),He=n(89),Ye=n.n(He);var Ke=function(e){return Object(s.jsxs)("header",{className:Ye.a.header,children:[Object(s.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAACjCAMAAAA3vsLfAAAAhFBMVEX///8AcuEAZ98Ab+AAa+AAbeAAad9Tk+cAbuC+1fUFeOLS4/no8/0AZd8AaODv9v1to+vk7/z1+v7d6vqBru3F2vemxfKHsu5Zl+iYvfDU5PnM3/g9iea20PWNte5Rk+gwhOVIjuepx/NjnOl2p+wlfuS30fUAX96cvvAde+M1huWoxfIDNGHbAAAHKElEQVR4nO2d65aiOhBGJQlpVAKId6VVtJ3ROe//fgfvqSQocS3EjrV/NsEJ38qlqlKVabUQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEGQ30E6nG6ybcfrbPNkN2+6N68kDWVimzdHOYlYEFDP8yj1GWGT79q6+W7kQoZWfi/8IfwgmEzA/UVaY1/fiCX49k7V1wbC90wwMq2zt2/D1zOyDSkzinaAb/v19vgteEa2hSgV7TBVxQcscU/IlpB7qhUI9yeqvWxJ9EC1QrdR7f1uGGvZpndn6EW3Yf09bxRb2WZVVCsWOMcNEVvZtqqxZsafvKDvDWIp245XUq2Ypm77WpayaWONRYIxwTXjl2av6H1j2Mm2VgYb88bzwo8Nhz9MFU50X9L/hrCTbQVHmxhcn8QbxS7xk3o73ixWsvXgNgrdgYViBbM6u900VrLBORrt4NMf6KgSlzcFK9k2gdRWX/SV0eayi2Ul215uTLQ1/xsMxmBTV5/fACvZ5KWNGtoC2eiqlg6/BzayxbJs/o/eIAc/Vj1U/PuwkQ1spGynNxgA443X1OV3wEa2viwbNwQjFwxl0wGjja/1BlA2lw23p9c2k33xAz2smrr8DljtpLL/ZLIvgO8VuOzMW8kGZNE3yhi4V047pVaygUnI/6iPp3BHcPlAwUo24AZo9m4Ko0rC5fNSK9nAnuAxZRZmAZDN5R3BMt4G3QAykJ9NYACEjWvsdeMosg3bJZxO8Nowpsaz60Scb5X8BtFr7JteAJTN42X8PeVwdWBzKrLdcDZrL1ZCOWVwOv6hyVYKP8n2Rz0mpYyTiDPtV9webLaytfLgcdtDc6dXNnvZwvIULQm6bfarasdWtla7SjYDc3uKPiFba/dYN8eP5FvPyNYaPdCNEtfzjZ6SrTWM7u0LzHPZqzrzjGytOFfNtNtQEy4HPq48JVvh1Hci04tUrJxf1o48KVurtV4JxcgNmMjbjXzE61lWlC3SC2Rm41UUMRYU+IWvwLKp62bHjaUgMtERyRdlB/wCY1ZpPByNk8lkkizWXcfTTiHxrKB/otfrnUuvIGlB0/1EnKQ3/16P1t/DiutUf3hsPv+cZU2nu8gOYaADEWHL0QMt5uMVuTbn+XT2ml6+F+HCIwwksBUGRbmbFI6L5uAAkJHO7tPWwDiJDCEhKnKzpxQmxNScs/FHCTfVU+TPNiwxZBaVN/cY/YD6vjNxdqf8jGinAnebe8LtU4QbM/9upJsvYfN+cD8wzrY2Jfe/lpnRK5d1+LJq7gXeB+hW4XQgWsjNH3uxgetHCa1qNXtiZtXcY86vb4MqNXvByqq5WiDjHn218D1gJGJcMeLo37MM/WpVuMUbbttvE7grUpKNZnEaz8e+L/1xewk/fmmbKPUZ8/WJyxZ3/9lfjjJ62PYa004nZ+OMRvvrjNNKvhnPB9Ppzz/dxWAuD7cBzO0Gpdrj4/yNOtIylUDngPKLExqO1UMZp5MpgQx+Dh8mzOMeyKOHY8pfSfZZ31OSkVYv6H5DdOGGoD72oGitYXRHmFiZpSKstetNApKUIy2HWY1+jGFOs+ILdOHCZyqTcQRQIHrNQO13z8xmXYkZzEHV6zngyucP1OfOIJv8t8/cwNOsM6IDV0KubZXQBqS5+twZ5EnHr0fDiTGYRv/BetKl/nMgRZXuX/klrwQkzJPrSlYi2xLWXBns2QQYw86WqoWyDtF15zPLFmxCuwo/ZwsjgQ7kgWz+IHxUTzr9DNlSINs1OGSWje3AJOX/6b8HDRT/lZ/yUkDp2XX4mGWLhmBLYAb7Al544W6sUq50vBUylsjWAxd9mJwn0D5w9y4ysPVdJ5VZNk9JhiPamf0c+F4OF12N5Fgtv5j9RtkOgwcs+fqNFrCQjbubIgjDbZe9dPP3dOczkWU4GBzQ81evGlvDuIBwOOAG7frO6UvjS5ZbJj09mnVwAHIQ45hDT97kRTgDtLRoRxYizXxVBWhhUCZl1ihjzRBPcYgYpiVQPr1MrXQHzupPJRqhog2ZnILoaVvLb6h8PfmvRLl0zeP+ZtQeDkdJYLznKVGaB1GwWi5XvnZSHxl8L4eItbOTgPGIc+WE6nL/sN7cowXaH50/lx89uiH8wO0aXXUJK0E4n1mZl6WqSbBb/PurSkEpcfqU9EjqPczqAIWO28f1y9xdv+pGaFiboGpgeU/3j4anmhDnKOH+7sQTyqaYZvfTZz6jxu/ApjwjJmB6tvigtC7ykOzr8nG8wndgHnBU5KbMyPm2JKWyaP9RhR3pmGv/AZNHyb7MRVp3iL41+GTlbtijhHS3F1I5R+BzsrwnQvuLcKk9ZRFPnL5+vZT+buKJw9myECwbtB9FftL2IGPn9nS5cP9igTukvUOJZPVY2bF96HBsDUEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQmf8BckJbXFsgizoAAAAASUVORK5CYII=",alt:""}),Object(s.jsx)("div",{className:Ye.a.loginBlock,children:e.isAuth?Object(s.jsxs)("div",{children:[e.login," - ",Object(s.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(s.jsx)(d.b,{to:"/login",children:"Login"})})]})},Je=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return Object(s.jsx)(Ke,Object(m.a)({},this.props))}}]),n}(u.a.Component),Xe=Object(Q.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:Le,getAuthUserData:Ve,logout:function(){return function(e){te().then((function(t){0===t.data.resultCode&&e(Le(null,null,null,!1))}))}}})(Je),qe=Object(N.a)({form:"login"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(S.a,{placeholder:"Email",name:"email",component:M,validate:[y]})}),Object(s.jsx)("div",{children:Object(s.jsx)(S.a,{placeholder:"Password",name:"password",component:M,validate:[y],type:"password"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)(S.a,{type:"checkbox",name:"rememberMe",component:"input"}),"remember me"]}),e.error&&Object(s.jsx)("div",{className:_.a.formSummaryError,children:e.error}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Login"})})]})})),$e=Object(Q.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(s){ee(e,t,n).then((function(e){if(0===e.data.resultCode)s(Ve());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";s(Object(Qe.a)("login",{email:t}))}}))}}})((function(e){return e.isAuth?Object(s.jsx)(p.a,{to:"/profile"}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsx)(qe,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),et={initialized:!1},tt=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.InitializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{className:"app-wrapper",children:[Object(s.jsx)(Xe,{}),Object(s.jsx)(b,{}),Object(s.jsxs)("div",{className:"app-wrapper-content",children:[Object(s.jsx)(p.b,{path:"/dialogs",render:function(){return Object(s.jsx)(V,{})}}),Object(s.jsx)(p.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(Ge,{})}}),Object(s.jsx)(p.b,{path:"/news",render:function(){return Object(s.jsx)(h,{})}}),Object(s.jsx)(p.b,{path:"/music",render:function(){return Object(s.jsx)(O,{})}}),Object(s.jsx)(p.b,{path:"/settings",render:function(){return Object(s.jsx)(f,{})}}),Object(s.jsx)(p.b,{path:"/users",render:function(){return Object(s.jsx)(ve,{})}}),Object(s.jsx)(p.b,{path:"/login",render:function(){return Object(s.jsx)($e,{})}})]})]}):Object(s.jsx)(ge,{})}}]),n}(u.a.Component),nt=Object(L.d)(p.f,Object(Q.b)((function(e){return{initialized:e.app.initialized}}),{InitializeApp:function(){return function(e){e(Ve()).then((function(){e({type:"SET_INITIALIZED"})}))}}}))(tt),st=n(62),rt=n.n(st),at=n(127),it=n(121),ct=Object(L.c)({profilePage:Pe,messagesPage:E,usersPage:de,auth:We,form:it.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(m.a)(Object(m.a)({},e),{},{initialized:!0});default:return e}}}),ot=Object(L.e)(ct,Object(L.a)(at.a));rt.a.render(Object(s.jsx)(u.a.StrictMode,{children:Object(s.jsx)(d.a,{children:Object(s.jsx)(Q.a,{store:ot,children:Object(s.jsx)(nt,{})})})}),document.getElementById("root"))},34:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsItems:"Dialogs_dialogsItems__2sNe2",active:"Dialogs_active__2sQhs",messages:"Dialogs_messages__1w_Up",message:"Dialogs_message__1xIDh"}},50:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3oI2W",error:"FormsControls_error__9lcue",formSummaryError:"FormsControls_formSummaryError__1F2-S"}},64:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},88:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__17MJB",selectedPage:"Users_selectedPage__J63sh"}},89:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}}},[[280,1,2]]]);
//# sourceMappingURL=main.fe6b0127.chunk.js.map